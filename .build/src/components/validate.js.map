{
  "version": 3,
  "sources": ["../../../src/components/validate.js"],
  "sourcesContent": ["\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// dev/components/validate.ts\nvar validate_exports = {};\n__export(validate_exports, {\n  validateSlackRequest: () => validateSlackRequest\n});\nmodule.exports = __toCommonJS(validate_exports);\nvar import_crypto = __toESM(require(\"crypto\"));\nfunction validateSlackRequest(req, signingSecret) {\n  const requestBody = JSON.stringify(req[\"body\"]);\n  const headers = req.headers;\n  const timestamp = headers[\"x-slack-request-timestamp\"];\n  const slackSignature = headers[\"x-slack-signature\"];\n  const baseString = \"v0:\" + timestamp + \":\" + requestBody;\n  const hmac = import_crypto.default.createHmac(\"sha256\", signingSecret).update(baseString).digest(\"hex\");\n  const computedSlackSignature = \"v0=\" + hmac;\n  const isValid = computedSlackSignature === slackSignature;\n  return isValid;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  validateSlackRequest\n});\n"],
  "mappings": ";AACA,IAAI,WAAW,OAAO;AACtB,IAAI,YAAY,OAAO;AACvB,IAAI,mBAAmB,OAAO;AAC9B,IAAI,oBAAoB,OAAO;AAC/B,IAAI,eAAe,OAAO;AAC1B,IAAI,eAAe,OAAO,UAAU;AACpC,IAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,WAAS,QAAQ;AACf,cAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,IAAI,cAAc,CAAC,IAAI,MAAM,QAAQ,SAAS;AAC5C,MAAI,QAAQ,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;AAClE,aAAS,OAAO,kBAAkB;AAChC,UAAI,CAAC,aAAa,KAAK,IAAI,QAAQ,QAAQ;AACzC,kBAAU,IAAI,KAAK,EAAE,KAAK,MAAM,KAAK,MAAM,YAAY,CAAE,QAAO,iBAAiB,MAAM,SAAS,KAAK;AAAA;AAE3G,SAAO;AAAA;AAET,IAAI,UAAU,CAAC,KAAK,YAAY,WAAY,UAAS,OAAO,OAAO,SAAS,aAAa,QAAQ,IAAI,YACnG,cAAc,CAAC,OAAO,CAAC,IAAI,aAAa,UAAU,QAAQ,WAAW,EAAE,OAAO,KAAK,YAAY,UAAU,QACzG;AAEF,IAAI,eAAe,CAAC,QAAQ,YAAY,UAAU,IAAI,cAAc,EAAE,OAAO,SAAS;AAGtF,IAAI,mBAAmB;AACvB,SAAS,kBAAkB;AAAA,EACzB,sBAAsB,MAAM;AAAA;AAE9B,OAAO,UAAU,aAAa;AAC9B,IAAI,gBAAgB,QAAQ,QAAQ;AACpC,8BAA8B,KAAK,eAAe;AAChD,QAAM,cAAc,KAAK,UAAU,IAAI;AACvC,QAAM,UAAU,IAAI;AACpB,QAAM,YAAY,QAAQ;AAC1B,QAAM,iBAAiB,QAAQ;AAC/B,QAAM,aAAa,QAAQ,YAAY,MAAM;AAC7C,QAAM,OAAO,cAAc,QAAQ,WAAW,UAAU,eAAe,OAAO,YAAY,OAAO;AACjG,QAAM,yBAAyB,QAAQ;AACvC,QAAM,UAAU,2BAA2B;AAC3C,SAAO;AAAA;AAGT;",
  "names": []
}
